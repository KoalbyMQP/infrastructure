[Unit]
Description=Slack notification service for server shutdown
Documentation=man:systemd.service(5)
Requires=network.target
After=network.target
Before=shutdown.target reboot.target halt.target
DefaultDependencies=no

[Service]
Type=oneshot
RemainAfterExit=yes
ExecStart=/bin/true
ExecStop=/opt/scripts/slack-shutdown-notify.sh
TimeoutStopSec=360
Environment="SLACK_WEBHOOK_URL=your_webhook_url_here"

[Install]
WantedBy=multi-user.target
